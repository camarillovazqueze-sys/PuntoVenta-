<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>POS - Inventario</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<style>
body { background: #e6f0fa; font-family: 'Segoe UI', sans-serif; }

/* Contenedor principal */
.container { margin-top: 50px; }

/* Encabezado y botón */
.d-flex h2 { font-weight: 600; }
.btn-success, .btn-warning, .btn-danger {
    border-radius: 12px;
    transition: 0.3s;
}
.btn-success:hover, .btn-warning:hover, .btn-danger:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

/* Tabla glassmorphism */
table {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 8px 20px rgba(0,0,0,0.05);
    background: rgba(255,255,255,0.2);
    backdrop-filter: blur(12px);
}
th, td { vertical-align: middle !important; }
.table-striped > tbody > tr:nth-of-type(odd) { background-color: rgba(255,255,255,0.1); }
.table-hover tbody tr:hover {
    background-color: rgba(255,255,255,0.2);
    transform: translateX(2px);
    transition: 0.3s;
}

/* Modal glass */
.modal-content {
    background: rgba(255,255,255,0.2);
    backdrop-filter: blur(15px);
    border-radius: 20px;
}
.modal-header { border-bottom: none; border-top-left-radius: 20px; border-top-right-radius: 20px; }
.modal-title { font-weight: 600; }
.modal-body .form-control, .modal-body .form-select {
    border-radius: 12px;
    background: rgba(255,255,255,0.3);
    backdrop-filter: blur(10px);
    border: none;
    color: #343a40;
}
.modal-body .form-control:focus, .modal-body .form-select:focus { box-shadow: none; }
.modal-body button { border-radius: 12px; margin-top: 10px; }
</style>
</head>
<body>

<!-- Botón de salir -->
<a href="C:\Users\kioskUser0\Downloads\PuntoVenta\dashboard.html" class="btn btn-danger position-fixed top-0 end-0 m-3 shadow">
    Salir
</a>

<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Inventario</h2>
    <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#agregarProducto">
        <i class="bi bi-plus-lg me-1"></i> Agregar Producto
    </button>
  </div>

  <table class="table table-hover table-striped shadow-sm rounded-4">
    <thead class="table-primary">
      <tr>
        <th>ID</th>
        <th>Producto</th>
        <th>Categoría</th>
        <th>Precio</th>
        <th>Stock</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody id="tabla-inventario">
      <tr>
        <td colspan="6" class="text-center">Cargando productos...</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal agregar producto -->
<div class="modal fade" id="agregarProducto" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content rounded-4">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title"><i class="bi bi-box-seam me-2"></i> Agregar Producto</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form action="php/inventario.php" method="POST">
          <div class="mb-3">
            <label>Producto</label>
            <input type="text" name="nombre" class="form-control" required>
          </div>
          <div class="mb-3">
            <label>Categoría</label>
            <input type="text" name="categoria" class="form-control" required>
          </div>
          <div class="mb-3">
            <label>Precio</label>
            <input type="number" name="precio" class="form-control" required>
          </div>
          <div class="mb-3">
            <label>Stock</label>
            <input type="number" name="stock" class="form-control" required>
          </div>
          <button type="submit" class="btn btn-success w-100">Registrar</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
async function cargarInventario() {
    const respuesta = await fetch('get_inventario.php'); // archivo PHP que devuelve JSON con los productos
    const productos = await respuesta.json();
    const tbody = document.getElementById('tabla-inventario');
    tbody.innerHTML = '';

    if (productos.length === 0) {
        tbody.innerHTML = `<tr><td colspan="6" class="text-center">No hay productos registrados.</td></tr>`;
        return;
    }

    productos.forEach(prod => {
        const fila = document.createElement('tr');
        fila.innerHTML = `
            <td>${prod.id}</td>
            <td>${prod.nombre}</td>
            <td>${prod.categoria}</td>
            <td>$${prod.precio}</td>
            <td>${prod.stock}</td>
            <td>
                <button class="btn btn-sm btn-warning">Editar</button>
                <button class="btn btn-sm btn-danger">Eliminar</button>
            </td>
        `;
        tbody.appendChild(fila);
    });
}

window.addEventListener('DOMContentLoaded', cargarInventario);
</script>

<script src="C:\Users\kioskUser0\Downloads\PuntoVenta\main.js"></script>
 <div class="login-footer">© 2025 Punto de Venta | Todos los derechos reservados</div>
    </div>
</body>
</html>
